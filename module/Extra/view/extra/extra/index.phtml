<?php
$title = "Gestion des extras de la chambre n°" . $this->escapeHtml($idChambre);
?>

<h1><?php echo $this->escapeHtml($title); ?></h1>
<br />
<?php
//Calcul prix de la chambre
$total = 0;
if ($douche != null) {
    $total += $douche->prixDouche;
}
if ($baignoire != null) {
    $total += $baignoire->prixBaignoire;
}
if ($television != null) {
    $total += $television->prixTelevision;
}
if ($frigo != null) {
    $total += $frigo->prixFrigo;
}
?>
<center><p class="prixTotalChambre">Prix de la chambre : <strong><?php echo $total; ?> €</strong></p></center>
<br />
<?php
/* * ****************************************
 * *******VUE DOUCHE**********
 * **************************************** */
if ($douche != null):
    ?>
    <div class="asideChambre">
        <div class="prix">Prix : <?php echo $this->escapeHtml($douche->prixDouche); ?> €</div>
        <p><strong>Douche</strong></p>
        <table>
            <tr>
                <td><img src="<?php
                    echo $this->basePath('img/Douches/' . (1 + $douche->idDouche % 3) . '.jpg')
                    ?>" alt="Zend Framework 2" class="imgChambre"/></td>
                <td class="Chambre" rowspan="1">
                    <p>Douche n°<?php echo $this->escapeHtml($douche->idDouche); ?></p>

                </td>
            </tr>
            <tr>
                <td>
                    <a href="<?php echo $this->url('extra', array('action' => 'editdouche', 'idChambre' => $douche->idChambre, 'idDouche' => $douche->idDouche)); ?>" class="btn btn-success">Modifier</a>
                    <a href="<?php echo $this->url('extra', array('action' => 'douchedelete', 'idChambre' => $douche->idChambre, 'idDouche' => $douche->idDouche)); ?>" class="btn btn-success">Supprimer</a>
                </td>
            </tr>
        </table>
    </div>

<?php else: ?>
    <div class="asideChambre">
        <p><strong>Pas de douche.</strong></p>
        <a href="<?php echo $this->url('extra', array('action' => 'adddouche', 'idChambre' => $idChambre)); ?>" class="btn btn-success">Ajouter</a>
    </div>
<?php endif; ?>

<?php
/* * ****************************************
 * *******VUE BAIGNOIRE**********
 * **************************************** */
if ($baignoire != null): //si baignoire déja ajoutée
    ?>
    <div class="asideChambre">
        <div class="prix">Prix : <?php echo $this->escapeHtml($baignoire->prixBaignoire); ?> €</div>
        <p><strong>Baignoire</strong></p>
        <table>
            <tr>
                <td><img src="<?php
                    echo $this->basePath('img/Baignoires/' . (1 + $baignoire->idBaignoire % 3) . '.jpg')
                    ?>" alt="Zend Framework 2" class="imgChambre"/></td>
                <td class="Chambre" rowspan="1">
                    <p>Baignoire n°<?php echo $this->escapeHtml($baignoire->idBaignoire); ?></p>
                </td>
            </tr>
            <tr>
                <td>
                    <a href="<?php echo $this->url('extra', array('action' => 'editbaignoire', 'idChambre' => $baignoire->idChambre, 'idDouche' => $baignoire->idBaignoire)); ?>" class="btn btn-success">Modifier</a>
                    <a href="<?php echo $this->url('extra', array('action' => 'baignoiredelete', 'idChambre' => $baignoire->idChambre, 'idDouche' => $baignoire->idBaignoire)); ?>" class="btn btn-success">Supprimer</a>
                </td>
            </tr>
        </table>
    </div>

<?php else: ?>
    <div class="asideChambre">
        <p><strong>Pas de baignoire.</strong></p>
        <a href="<?php echo $this->url('extra', array('action' => 'addbaignoire', 'idChambre' => $idChambre)); ?>" class="btn btn-success">Ajouter</a>
    </div>
<?php endif; ?>

<?php
/* * ****************************************
 * *******VUE TELEVISION**********
 * **************************************** */
if ($television != null): //TELEVISION
    ?>
    <div class="asideChambre">
        <div class="prix">Prix : <?php echo $this->escapeHtml($television->prixTelevision); ?> €</div>
        <p><strong>Television</strong></p>
        <table>
            <tr>
                <td><img src="<?php
                    echo $this->basePath('img/Televisions/' . (1 + $television->idTelevision % 3) . '.jpg')
                    ?>" alt="Zend Framework 2" class="imgChambre"/></td>
                <td class="Chambre" rowspan="1">
                    <p>Television n°<?php echo $this->escapeHtml($television->idTelevision); ?></p>
                </td>
            </tr>
            <tr>
                <td>
                    <a href="<?php echo $this->url('extra', array('action' => 'edittelevision', 'idChambre' => $television->idChambre, 'idDouche' => $television->idTelevision)); ?>" class="btn btn-success">Modifier</a>
                    <a href="<?php echo $this->url('extra', array('action' => 'televisiondelete', 'idChambre' => $television->idChambre, 'idDouche' => $television->idTelevision)); ?>" class="btn btn-success">Supprimer</a>
                </td>
            </tr>
        </table>
    </div>

<?php else: ?>
    <div class="asideChambre">
        <p><strong>Pas de television.</strong></p>
        <a href="<?php echo $this->url('extra', array('action' => 'addtelevision', 'idChambre' => $idChambre)); ?>" class="btn btn-success">Ajouter</a>
    </div>
<?php endif; ?>

<?php
/* * ****************************************
 * *******VUE FRIGO**********
 * **************************************** */
if ($frigo != null): //si un frigo est déja ajouté
    ?>
    <div class="asideChambre">
        <div class="prix">Prix : <?php echo $this->escapeHtml($frigo->prixFrigo); ?> €</div>
        <p><strong>Frigo</strong></p>
        <table>
            <tr>
                <td><img src="<?php
                    echo $this->basePath('img/Frigos/' . (1 + $frigo->idFrigo % 3) . '.jpg')
                    ?>" alt="Zend Framework 2" class="imgChambre"/></td>
                <td class="Chambre" rowspan="1">
                    <p>Frigo n°<?php echo $this->escapeHtml($frigo->idFrigo); ?></p>
                </td>
            </tr>
            <tr>
                <td>
                    <a href="<?php echo $this->url('extra', array('action' => 'editfrigo', 'idChambre' => $frigo->idChambre, 'idDouche' => $frigo->idFrigo)); ?>" class="btn btn-success">Modifier</a>
                    <a href="<?php echo $this->url('extra', array('action' => 'frigodelete', 'idChambre' => $frigo->idChambre, 'idDouche' => $frigo->idFrigo)); ?>" class="btn btn-success">Supprimer</a>
                </td>
            </tr>
        </table>
    </div>

<?php else: ?>
    <div class="asideChambre">
        <p><strong>Pas de frigo.</strong></p>
        <a href="<?php echo $this->url('extra', array('action' => 'addfrigo', 'idChambre' => $idChambre)); ?>" class="btn btn-success">Ajouter</a>
    </div>
<?php endif; ?>